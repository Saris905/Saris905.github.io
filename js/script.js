let inform = [ // исходные данные
    {
        name: 'Honda S2000',
        src: 'img/HondaS2000.jpg',
        btn1: 'Toyota Supra',
        btn2: 'Honda S2000',
        btn3: 'Honda Integra',
        btn4: 'Dodge Neon',
        right: 'Honda S2000'
    },
    {
        name: 'BMW M3 E92',
        src: 'img/BMWm3e92.jpg',
        btn1: 'Audi A4',
        btn2: 'BMW M3 E92',
        btn3: 'Honda Civic Type R',
        btn4: 'BMW E90',
        right: 'BMW M3 E92'
    },
    {
        name: 'Mitsubishi ASX',
        src: 'img/MitsubishiASX.jpg',
        btn1: 'Mitsubishi ASX',
        btn2: 'Mitsubishi Outlander',
        btn3: 'Suzuki Jimny',
        btn4: 'Nissan Qashqai',
        right: 'Mitsubishi ASX'
    },
    {
        name: 'Ferrari 458 Italia',
        src: 'img/Ferrari458Italia.jpg',
        btn1: 'Pagani Huayra',
        btn2: 'Lamborghini Huracan',
        btn3: 'Ferrari 458 Italia',
        btn4: 'Porsche 918',
        right: 'Ferrari 458 Italia'
    },
    {
        name: 'Nissan 370Z',
        src: 'img/Nissan370z.jpg',
        btn1: 'Nissan 350Z',
        btn2: 'Honda Civic Type R',
        btn3: 'Toyota Celica',
        btn4: 'Nissan 370Z',
        right: 'Nissan 370Z'
    },
    {
        name: 'Mitsubishi Eclipse',
        src: 'img/MitsubishiEclipse.jpg',
        btn1: 'Honda Prelude',
        btn2: 'Honda Integra',
        btn3: 'Mitsubishi Galant',
        btn4: 'Mitsubishi Eclipse',
        right: 'Mitsubishi Eclipse'
    },
    {
        name: 'Toyota Xb',
        src: 'img/toyotaxb.jpg',
        btn1: 'Kia Soul',
        btn2: 'Toyota Xb',
        btn3: 'Nissan Cube',
        btn4: 'Toyota Corolla',
        right: 'Toyota Xb'
    },
    {
        name: 'Kia Stinger GT',
        src: 'img/KiaStingerGt.jpg',
        btn1: 'Audi A7',
        btn2: 'Audi A6',
        btn3: 'Kia Stinger GT',
        btn4: 'Porsche Panamera',
        right: 'Kia Stinger GT'
    },
    {
        name: 'Toyota Land Cruiser 80',
        src: 'img/ToyotaLC80.jpg',
        btn1: 'Toyota Land Cruiser 80',
        btn2: 'Mitsubishi Pajero',
        btn3: 'Suzuki Grand Vitara',
        btn4: 'Toyota 4runner',
        right: 'Toyota Land Cruiser 80'
    },
    {
        name: 'Cadillac CTS',
        src: 'img/CadillacCTS.jpg',
        btn1: 'Cadillac CTS',
        btn2: 'Infiniti FX37',
        btn3: 'Kia Optima',
        btn4: 'Infinity Q50',
        right: 'Cadillac CTS'
    },

    {
        name: 'Nissan GTR R34',
        src: 'img/difficult/NissanGTR34.jpg',
        btn1: 'Nissan Silvia',
        btn2: 'Nissan GTR R34',
        btn3: 'Nissan Laurel',
        btn4: 'Nissan GTR R35',
        right: 'Nissan GTR R34'
    },
    {
        name: 'Audi 80',
        src: 'img/difficult/audi80.jpg',
        btn1: 'Audi A4',
        btn2: 'Audi 100',
        btn3: 'Audi 80',
        btn4: 'Audi RS3',
        right: 'Audi 80'
    },
    {
        name: 'Nissan GTR R35',
        src: 'img/difficult/NissanGTR35.jpg',
        btn1: 'Nissan 350Z',
        btn2: 'Nissan GTR R33',
        btn3: 'Nissan GTR R35',
        btn4: 'Nissan Silvia',
        right: 'Nissan GTR R35'
    },
    {
        name: 'Toyota MR2',
        src: 'img/difficult/ToyotaMR2.jpg',
        btn1: 'Porsche Cayman',
        btn2: 'Ferrari 348',
        btn3: 'Porsche Boxter',
        btn4: 'Toyota MR2',
        right: 'Toyota MR2'
    },
    {
        name: 'BMW E30',
        src: 'img/difficult/bmwe30.jpg',
        btn1: 'BMW E30',
        btn2: 'BMW E34',
        btn3: 'BMW E46',
        btn4: 'BMW E31',
        right: 'BMW E30'
    },
    {
        name: 'Ford Scorpio',
        src: 'img/difficult/fordScorpioi.jpg',
        btn1: 'Ford Escort',
        btn2: 'Ford Scorpio',
        btn3: 'Ford Orion',
        btn4: 'Ford Sierra',
        right: 'Ford Scorpio'
    },
    {
        name: 'Range Rover Velar',
        src: 'img/difficult/RangeRoverVelar.jpg',
        btn1: 'Range Rover Velar',
        btn2: 'Range Rover Discovery',
        btn3: 'Range Defender',
        btn4: 'Range Rover Evoque',
        right: 'Range Rover Velar'
    },
    {
        name: 'Jeep Compass',
        src: 'img/difficult/JeepCompass.jpg',
        btn1: 'Jeep Grand Cherokee',
        btn2: 'Jeep Wrangler',
        btn3: 'Jeep Compass',
        btn4: 'Jeep Renegade',
        right: 'Jeep Compass'
    },
    {
        name: 'Volvo 460',
        src: 'img/difficult/Volvo460.jpg',
        btn1: 'Volvo 460',
        btn2: 'Volvo 740',
        btn3: 'Volvo 760',
        btn4: 'Volvo 960',
        right: 'Volvo 460'
    },
    {
        name: 'Lamborghini Diablo',
        src: 'img/difficult/lamborghiniDiablo.jpg',
        btn1: 'Lamborghini Countach',
        btn2: 'Lamborghini Gallardo',
        btn3: 'Lamborghini Diablo',
        btn4: 'Lamborghini Egoista',
        right: 'Lamborghini Diablo'
    }

    // {
    //     name: 'Toyota MR2',
    //     src: 'img/difficult/ToyotaMr2.jpg',
    //     btn1: 'Porsche Cayman',
    //     btn2: 'Ferrari 348',
    //     btn3: 'Porsche Boxter',
    //     btn4: 'Toyota MR2',
    //     right: 'Toyota MR2'
    // },
];


let list = document.querySelector('.content');
let items = list.children;
let template = document.querySelector('#card').content;
let newTemplate = template.querySelector('.card-item');
let startButton = document.querySelector('.start');
let startButtonItem = startButton.querySelector('.start__btn');
let copyRightBlock = document.querySelector('.footer');

startButtonItem.addEventListener('click', function() { // функция обработки старта игры

    copyRightBlock.classList.add('hidden'); // скрывает копирайт
    startButton.classList.add('hidden'); // скрываем кнопку и создаем первую карточку
    vote(0);

});



let i = 0; // глобальный счетчик
let yourScore = 0; // счет правильных ответов

let vote = function(i) { // функция обработки конца игры и последовательного создания карточек

    if (i >= inform.length) {

        let finishBlock = document.querySelector('.finish__block'); // записываем в переменную финальный блок
        let startAgainButton = finishBlock.querySelector('.end'); // ... кнопку начать снова
        let yourScoreElement = finishBlock.querySelector('p'); // ... контент в итогом игры

        yourScoreElement.textContent = 'Верных ответов: ' + yourScore + ' из ' + inform.length;

        finishBlock.classList.remove('hidden');

        startAgainButton.addEventListener('click', function(evt) {
            evt.preventDefault();

            finishBlock.classList.add('hidden');
            window.location.reload(); // перезагружает страницу

            // document.getElementById('startBtn').click();
            // i = 0;
            // yourScore = 0;
            // vote(i);
        })
    } else {
        let card = newTemplate.cloneNode(true), // создаем шаблон и заполняем его информацией
            picture = card.querySelector('.card-img'),
            btn1 = card.querySelector('.btn1'),
            btn2 = card.querySelector('.btn2'),
            btn3 = card.querySelector('.btn3'),
            btn4 = card.querySelector('.btn4');

        picture.src = inform[i].src;
        btn1.textContent = inform[i].btn1;
        btn2.textContent = inform[i].btn2;
        btn3.textContent = inform[i].btn3;
        btn4.textContent = inform[i].btn4;

        card.classList.remove('hidden');

        list.appendChild(card);
        click();
    }
};


let click = function() { // функция обработки клика по опросу и его обработка
    let voteBtn = list.querySelectorAll('.button__item');

    console.log(i);

    for (let j = 0; j < voteBtn.length; j++) {
        voteBtn[j].addEventListener('click', function() {

            // if(i === inform.length) {
            //     i = 0;
            //     j = 0

            let checkScore = voteBtn[j].querySelector('p');
            let check = checkScore.textContent; // извлекаем значение нажатой кнопки

            if (check === inform[i].right) { //!!!разобраться почему сюда приходит i = 4!
                yourScore++;
                // document.getElementById('color').style.background = '#0eda21';
            } // сверяем с истинным и если верно увеличиваем счет на 1

            items[i].classList.add('hidden'); // убираем старую карточку
            i++; // увеличиваем счетчик на 1
            voteBtn = 0; // !!!пока не уверен что нужно, чтобы в перменной не накапливались значения всех карточек
            vote(i) // передаем увеличенную i и создаем следующую карточку
        });
    };
}









